<template>
    <div class="content-wrapper">
        <div class="row" style="padding-top: 5px">
            <div class="col-sm-6 col-sm-offset-2 ">
                <svg id="Capa_1" enable-background="new 0 0 512 512" height="45" viewBox="0 0 512 512" width="45" xmlns="http://www.w3.org/2000/svg"><path d="m360.878 512h-324.228c-11.046 0-20-8.954-20-20v-472c0-11.046 8.954-20 20-20h324.228c11.046 0 20 8.954 20 20v472c0 11.046-8.954 20-20 20z" fill="#e4f6ff"/><path d="m360.065 0h-27.057c11.495 0 20.813 9.318 20.813 20.813v470.374c0 11.495-9.318 20.813-20.813 20.813h27.057c11.495 0 20.813-9.318 20.813-20.813v-470.374c0-11.495-9.318-20.813-20.813-20.813z" fill="#d3effb"/><path d="m380.878 62.439h-364.228v-42.439c0-11.046 8.954-20 20-20h324.228c11.046 0 20 8.954 20 20z" fill="#90d8f9"/><path d="m360.065 0h-27.057c11.495 0 20.813 9.318 20.813 20.813v41.626h27.057v-41.626c0-11.495-9.318-20.813-20.813-20.813z" fill="#75cef9"/><path d="m495.35 172.664v299.2c0 2.4-.838 4.725-2.369 6.573l-19.877 23.99c-4.12 4.972-11.746 4.972-15.865 0l-19.877-23.99c-1.531-1.848-2.369-4.173-2.369-6.573v-299.2c0-4.552 3.69-8.241 8.241-8.241h43.875c4.551 0 8.241 3.69 8.241 8.241z" fill="#665e66"/><path d="m457.238 502.426-3.069-3.703 18.702-22.572c3.094-3.734 4.787-8.43 4.787-13.279v-298.449h9.45c4.552 0 8.241 3.69 8.241 8.241v299.2c0 2.4-.838 4.725-2.369 6.573l-19.877 23.99c-4.119 4.971-11.745 4.971-15.865-.001z" fill="#544f57"/><path d="m475.577 104.065h-20.813c-5.747 0-10.406 4.659-10.406 10.407v49.951h41.626v-49.951c0-5.748-4.659-10.407-10.407-10.407z" fill="#f4dd45"/><path d="m434.992 274.732h60.358v31.22h-60.358z" fill="#f4dd45"/><path d="m477.659 274.732h17.691v31.22h-17.691z" fill="#ecc32e"/><path d="m471.415 104.065h4.163c5.747 0 10.406 4.659 10.406 10.407v49.951h-14.569z" fill="#ecc32e"/><circle cx="59.317" cy="31.22" fill="#e27a66" r="10.407"/><circle cx="101.984" cy="31.22" fill="#f4dd45" r="10.407"/><circle cx="144.65" cy="31.22" fill="#aad540" r="10.407"/><g fill="#665e66"><path d="m297.626 112.832h-197.724c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h197.724c4.267 0 7.726 3.459 7.726 7.726.001 4.267-3.459 7.726-7.726 7.726z"/><path d="m297.626 208.572h-156.097c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h156.098c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z"/><path d="m254.959 250.198h-113.43c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h113.431c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z"/><path d="m318.439 154.458h-239.349c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h239.35c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z"/></g><path d="m98.862 193.119h-41.626c-4.267 0-7.726 3.459-7.726 7.726v41.626c0 4.267 3.459 7.726 7.726 7.726h41.626c4.267 0 7.726-3.459 7.726-7.726v-41.626c0-4.267-3.459-7.726-7.726-7.726z" fill="#aad540"/><path d="m297.626 312.637h-156.097c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h156.098c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z" fill="#665e66"/><path d="m254.959 354.263h-113.43c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h113.431c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z" fill="#665e66"/><path d="m98.862 297.184h-41.626c-4.267 0-7.726 3.459-7.726 7.726v41.626c0 4.267 3.459 7.726 7.726 7.726h41.626c4.267 0 7.726-3.459 7.726-7.726v-41.626c0-4.267-3.459-7.726-7.726-7.726z" fill="#aad540"/><path d="m297.626 416.702h-156.097c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h156.098c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z" fill="#665e66"/><path d="m254.959 458.328h-113.43c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h113.431c4.267 0 7.726 3.459 7.726 7.726s-3.46 7.726-7.727 7.726z" fill="#665e66"/><path d="m98.862 401.25h-41.626c-4.267 0-7.726 3.459-7.726 7.726v41.626c0 4.267 3.459 7.726 7.726 7.726h41.626c4.267 0 7.726-3.459 7.726-7.726v-41.626c0-4.267-3.459-7.726-7.726-7.726z" fill="#aad540"/><path d="m465.171 242.913c-4.267 0-7.726-3.459-7.726-7.726v-70.765c0-4.267 3.459-7.726 7.726-7.726s7.726 3.459 7.726 7.726v70.765c0 4.267-3.459 7.726-7.726 7.726z" fill="#f4dd45"/></svg>
                &nbsp;<span class="title">I18nSurvey</span>
            </div>
            <div class="col-sm-3 col-sm-offset-1">
                <el-link v-bind:href=urlLogin :underline="false">
                    <el-button round class="sign-up" >Login</el-button>
                </el-link>
            </div>
        </div>
        <div id="sign-up" class="wds-grid__row">
            <div class="wds-grid__col-12">
                <div><h1 class="wds-type wds-type--page-title wds-type--center wds-m-t-4">Create a FREE account</h1>
                    <p class="wds-type wds-type--center">Already have an account?
                        <a class="log-in" v-bind:href=urlLogin >Log In Â»</a>
                    </p></div>
                <div class="or-divider wds-m-t-3 desktop-view">
                    <div class="or-divider wds-m-t-3">
                        <div class="or-bubble">
                            <p class="wds-type--body-sm wds-p-t-2">Create an account</p>
                        </div>
                    </div>
                </div>
                <div class="signup-form">
                    <div id="signup-form">
                        <form name="create_user_form" id="create_user_form"  class="sm-form" data-helper-text-enabled="">
                            <fieldset class="form" name="create_user_form">
                            </fieldset>
                            <fieldset form="create_user_form">
                                <div class="wds-grid__no-gutters input-list">
                                    <div class="wds-grid__row">
                                    <ul>
                                        <li class="wds-grid__col-12 text-input">
                                            <input class="notranslate wds-input wds-input--stretched error" name="email" id="email" value="" maxlength="50" autofocus="" placeholder="Email" v-model="account.email">
<!--                                            <div class="missing">Please enter a Email.</div>-->
                                            <span class="input-placeholder hide">Email</span>
<!--                                            <span class="smf-icon checkmark">v</span>-->
<!--                                            <span class="smf-icon warning">!</span>-->
                                        </li>
                                    </ul>
                                    </div>
                                    <div class="wds-grid__row">
                                    <ul>
                                        <li class="wds-grid__col-12 text-input">
                                            <input class="notranslate wds-input wds-input--stretched" type="password" name="password" id="password" autocomplete="off" placeholder="Password" aria-autocomplete="list" v-model="account.password">
                                            <div></div>
                                            <span class="input-placeholder hide">Password</span>
<!--                                            <span class="smf-icon checkmark">v</span>-->
<!--                                            <span class="smf-icon warning">!</span>-->
                                        </li>
                                    </ul>
                                    </div>
                                    <div class="wds-grid__row">
                                    <ul>
                                        <li class="wds-grid__col-12 text-input wds-input--stretched">
                                            <input class="notranslate wds-input wds-input--stretched" type="password" name="repassword" id="repassword" value="" maxlength="256" placeholder="Confirm Password" v-model="account.password_confirmation">
                                            <div></div>
                                            <span class="input-placeholder hide">Confirm Password</span>
<!--                                            <span class="smf-icon checkmark">v</span>-->
<!--                                            <span class="smf-icon warning">!</span>-->
                                        </li>
                                    </ul>
                                    </div>
                                    <div class="wds-grid__row">
                                    <div class="wds-grid__col-12 submit-button">
                                        <button type="submit" name="submit" id="submitform" class="wds-button wds-button--stretched wds-button--icon-right" @click="signup()">
                                            Create account
                                        </button>
                                    </div>
                                </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div><div class="desktop-view">
                <div class="or-divider wds-m-t-4">
                    <div class="or-bubble">
                        <p class="wds-type--body-sm wds-p-t-2">or sign up with</p>
                    </div>
                </div>
                <div class="wds-grid--no-bleeds wds-m-t-4">
                    <div class="wds-grid__row wds-type--center">
                        <a href="/user/third-party/?third_party=google&amp;action=sign_up&amp;sm=4qFPJ4g1UiHQWMSyeb1_2B20b6HMm2QY_2BxLWcgqS8g9nU_3D" id="hlGoogle" class="google-btn social-icon wds-button flex-center wds-m-2">
                            <img src="../../images/goole_icon.png" alt="Sign up with Google">
                        </a>
                        <a href="/user/third-party/?third_party=facebook&amp;action=sign_up&amp;sm=4qFPJ4g1UiHQWMSyeb1_2B20b6HMm2QY_2BxLWcgqS8g9nU_3D" id="hlFacebook" class="facebook-btn social-icon wds-button flex-center wds-m-2">
                            <img src="../../images/facebook_icon.png" alt="Sign up with Facebook">
                        </a>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <Footer></Footer>
    </div>
</template>

<script>
    import Footer from "../../components/Footer";
    import axios from 'axios'
    import setting from "../../setting";
    export default {
        name: "Signup",
        components: {
            Footer,
        },
        data() {
            return {
                account: {
                    email: '',
                    password: '',
                    password_confirmation: ''
                },
                urlLogin: setting.url + '/login'
            }
        },
        methods: {
            signup() {
                event.preventDefault()
                axios.post( setting.url + '/api/register', this.account)
                    .then(resp => {
                        this.$notify({
                            title: 'Notification',
                            message: 'Register success!',
                            type: 'success',
                            duration: 2000
                        })
                        this.$router.push({ name: 'login' })
                    })
                    .catch(error => {
                        console.log(error)
                    })
            }
        }
    }
</script>

<style scoped>
    .el-link.el-link--default {
        color: #606266;
        padding-top: 10px;
    }
    .facebook-btn img {
        height: 18px;
        width: 18px;
        transform: translate(-8px,-2px);
    }
    .google-btn img {
        height: 18px;
        width: 18px;
        transform: translate(-8px,-2px);
    }
    .social-icon {
        padding: 0;
        border-radius: 50%;
        border-color: #edeeee;
        width: 44px;
        height: 44px;
        background-color: #edeeee;
    }
    .container .wds-grid--no-bleeds {
        height: 100%;
    }
    .desktop-view {
        display: block;
    }
    .wds-button {
        display: inline-block;
        cursor: pointer;
        position: relative;
        border-radius: 2px;
        font-weight: 500;
        font-family: National\ 2,Helvetica Neue,Helvetica,Arial,sans-serif;
        text-align: center;
        -webkit-transition: color .4s,border-color .4s,background-color .4s;
        transition: color .4s,border-color .4s,background-color .4s;
        border: 1px solid transparent;
        text-decoration: none;
        color: #fff;
        background-color: #409eff;
        border-color: #409eff;
    }
    .wds-button, .wds-button--md {
        padding: 0 24px;
        font-size: 15px;
        height: 40px;
        line-height: 40px;
    }
    .wds-button--stretched {
        display: block;
        width: 100%;
        margin: 0 auto;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }
    #submitform {
        height: 50px;
        line-height: 50px;
    }
    #submitform {
        font-size: 16px;
    }
    .warning {
        top: 17%;
        color: #F05B24;
    }
    .wds-input.error ~ .warning {
        display: inline;
    }
    .checkmark {
        top: 20%;
        color: #00BF6F;
    }
    .checkmark, .warning {
        position: absolute;
        right: 24px;
        background-color: transparent;
        padding: 0 3px;
        font-size: 15px;
    }
    .smf-icon, .pictos {
        font-family: "Mateo";
        font-weight: normal !important;
        cursor: default;
    }
    .wds-input.error ~ .checkmark, .wds-input:focus ~ .checkmark {
        display: none !important;
    }
    .hide, .nodisplay, .hidden {
        display: none !important;
    }
    .signup-form .missing, .signup-form .errmsg {
        color: #F05B24;
    }
    .wds-input {
        outline: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        -ms-appearance: none;
        appearance: none;
        -webkit-box-shadow: none;
        box-shadow: none;
        color: #333e48;
        border: 1px solid #d0d2d3;
        border-radius: 2px;
        background-color: #fff;
        line-height: 1.5;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }
    .wds-input, .wds-input--md {
        padding: 0 12px;
        font-size: 15px;
        height: 40px;
    }
    .wds-input--stretched {
        width: 100%;
    }
    .wds-input {
        background-color: #edeeee;
        border: 1px solid #edeeee;
        transition: all 0.2s ease-in-out 0s;
    }
    .wds-input.error {
        border: 1px solid #F05B24;
    }
    .wds-grid__col-12 {
        width: 100%;
    }
    ul, ol, li {
        list-style-position: outside;
        list-style-type: none;
        margin-bottom: 0px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 0px;
    }
    .signup-form ul {
        height: 67px;
    }
    .wds-grid__row {
        margin-left: -12px;
        margin-right: -12px;
    }
    fieldset {
        border-bottom-color: initial;
        border-bottom-style: initial;
        border-bottom-width: 0px;
        border-image-outset: initial;
        border-image-repeat: initial;
        border-image-slice: initial;
        border-image-source: initial;
        border-image-width: initial;
        border-left-color: initial;
        border-left-style: initial;
        border-left-width: 0px;
        border-right-color: initial;
        border-right-style: initial;
        border-right-width: 0px;
        border-top-color: initial;
        border-top-style: initial;
        border-top-width: 0px;
    }
    button, input {
        line-height: normal;
    }
    button, input, select, textarea {
        font-size: 100%;
        margin: 0;
        vertical-align: baseline;
    }
    button, input, select, textarea {
        font-family: National2,"Helvetica Neue",Helvetica,Arial,sans-serif;
    }
    button, input {
        line-height: normal;
    }
    button, input, select, textarea {
        font-size: 100%;
        margin: 0;
        vertical-align: baseline;
    }
    button, input, select, textarea {
        font-family: National2,"Helvetica Neue",Helvetica,Arial,sans-serif;
    }
    .signup-form {
        margin-top: 24px;
        text-align: left;
    }
    .or-divider .wds-type--body-sm {
        font-size: 13px;
    }
    .wds-type--body-sm {
        color: #6B787F;
    }
    .wds-p-t-2 {
        padding-top: 8px!important;
    }
    .wds-type--body-sm {
        font-size: 13px;
        font-weight: 400;
    }
    .or-bubble {
        background-color: #fff;
        width: 200px;
        margin-left: auto;
        margin-right: auto;
        position: relative;
        text-align: center;
        height: 40px;
        line-height: 40px;
        font-weight: 500;
        overflow: show;
    }
    .wds-m-t-3 {
        margin-top: 12px!important;
    }
    .or-divider {
        background-color: #fff;
        border-top: 0px;
        border-bottom: 1px solid #6B787F;
        height: 20px;
    }
    .desktop-view {
        display: block;
    }
    a {
        color: #007FAA;
        text-decoration-color: initial;
        text-decoration-line: none;
        text-decoration-style: initial;
    }
    #sign-up .log-in {
        font-weight: 500;
    }
    p {
        -webkit-margin-before: 0;
        -webkit-margin-after: 0;
    }
    h1, h2, h3, h4, h5, ul, li, ol, form, fieldset {
        margin-bottom: 0px;
        margin-left: 0px;
        margin-right: 0px;
        margin-top: 0px;
        padding-bottom: 0px;
        padding-left: 0px;
        padding-right: 0px;
        padding-top: 0px;
    }
    .wds-m-t-4 {
        margin-top: 16px!important;
    }
    .wds-type--center {
        text-align: center;
    }
    .wds-type--page-title {
        font-size: 34px;
        font-weight: 300;
    }
    [class*=wds-type-] {
        color: #333e48;
        line-height: 1.5;
        margin: 0;
    }
    .wds-grid__col-12 {
        width: 100%;
        padding-left: 12px;
        padding-right: 12px;
        float: left;
        position: relative;
        min-height: 1px;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }
    .wds-grid__row:after {
        content: "";
        display: block;
        clear: both;
    }
    *, *:after, *:before {
        box-sizing: border-box;
    }
    [class*=wds-] {
        font-family: National\ 2,Helvetica Neue,Helvetica,Arial,sans-serif;
        -webkit-font-smoothing: antialiased;
        font-size: 15px;
    }
    .wds-grid__row {
        display: block;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }
    #sign-up {
        max-width: 512px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 45px;
    }
    .content-wrapper {
        background-color: white !important;
    }
</style>